<legend>
	<h3>
		Interactions Editor
	</h3>
</legend>
<div class="well">
	<h3>Instructions
		<button type="button" data-toggle="collapse" 
			data-target="#interactionsinfo" class="btn btn-info btn-mini">
			Collapse/Expand
		</button>
	</h3>
	
	<div id="interactionsinfo" class="collapse">
		<p>
			Edit or add interactions between species. 
		</p>
	</div>
</div>
		
<form>
	<fieldset>
		
			<div class="span3 offset3">
			<h4>Select interaction</h4>
				<select id = "interactions-list">
					<option value="trophic" name="trophic">trophic (1 eats 2)</option>
					<option value="competition" name="competition">competition (1 outcompetes 2)</option>
					<option value="facilitation" name="facilitation">facilitation (1 facilitates 2)</option>
					<option value="parasitic" name="parasitic">parasitic (1 is parasite of 2)</option>
				</select> 
			</div>
		
			<div class="span4 offset1">
				<h4>Node/Stage 1</h4>
					<label>Working Name: </label>
					<%= form_tag do %>
						<%= autocomplete_field_tag 'interaction_working_name1', '',autocomplete_node_working_name_nodes_path,
						:update_elements => {:itis_data => '#stage1_itis_id'} %>
					<% end %>
					
					<label>Latin Name: </label>
					<input type="text" id="interaction_latin_name1">
					<img src="assets/ajax-loader.gif" id="interaction-latin1-loading-indicator" style="display:none" />
					<div hidden = "true" id = "interaction_stage1_field">
						<label id="interaction_itis_working_name1" visible="false">Working Name: </label>
						<label id="interaction_itis_common_name1" visible="false">ITIS Common Name: </label>
						<label id="interaction_itis_latin_name1" visible="false">ITIS Latin Name: </label>
						<label id="interaction_itis_id1" visible="false">ITIS ID: </label>
						
						<select id="interaction_select1">
						</select>
					</div>
			</div>
				
			<div class="span4">
				<h4>Node/Stage 2</h4>
					<label>Working Name: </label>
					<%= form_tag do %>
						<%= autocomplete_field_tag 'interaction_working_name2', '',autocomplete_node_working_name_nodes_path,
						:update_elements => {:itis_id => '#stage2_itis_id'}%>
					<% end %>
						
				<label>Latin Name: </label>
				<input type="text" id="interaction_latin_name2">
				<img src="assets/ajax-loader.gif" id="interaction-latin2-loading-indicator" style="display:none" />
					<div hidden = "true" id = "interaction_stage2_field">
						<label id="interaction_itis_working_name2" visible="false">Working Name: </label>
						<label id="interaction_itis_common_name2" visible="false">ITIS Common Name: </label>
						<label id="interaction_itis_latin_name2" visible="false">ITIS Latin Name: </label>
						<label id="interaction_itis_id2" visible="false">ITIS ID: </label>
						
						<select id="interaction_select2">
						</select>
					</div>			
			</div>
		
		<div class="form-actions span5 offset2">
			<button type="button" class="btn btn-inverse">
				Add Observation
			</button>
			
			<button type="button" class="btn btn-inverse">
				Add Interaction
			</button>
			
			<button type="reset" class="btn btn-inverse" id="interaction_reset_button">
				Reset
			</button>
		</div> <!-- end form-actions -->
		
	</fieldset>
</form>

<div id="new_stage" class="modal hide fade">
	<div class="modal-header">
		<button type="button" 
			class="close" data-dismiss="modal" 
			aria-hidden="true">&times;
		</button>
		<h3> New Stage </h3>
	</div>
	<div class="modal-body">
		<%= render :partial => 'newstage', :stage => @new_stage%>
	</div>
	<div class="modal-footer">
	</div>
</div>

<input type="hidden" id="interaction_node_id1">
<input type="hidden" id="interaction_node_id2">